/*function AnimateCache() {
	for (allBoxes = window.document.documentElement.querySelectorAll(".ani"),
		     i = 0; i < allBoxes.length; i++)
		allBoxes[i].style.visibility = "hidden";
}

function AnimateCache2($page) {
	var allBoxes;
	for (allBoxes = $page[0].querySelectorAll(".ani"),
		     i = 0; i < allBoxes.length; i++)
		allBoxes[i].style.visibility = "hidden";
}
*/
function swiperAnimateCache() {
	for (allBoxes = window.document.documentElement.querySelectorAll(".ani"), i = 0; i < allBoxes.length; i++) allBoxes[i].attributes["style"] ? allBoxes[i].setAttribute("animate-style-cache", allBoxes[i].attributes["style"].value) : allBoxes[i].setAttribute("animate-style-cache", " "), allBoxes[i].style.visibility = "hidden"
}

function AnimateCache3($page) {
	var allBoxes, hasOldClass;
	for (allBoxes = $page[0].querySelectorAll(".ani"),
		     i = 0; i < allBoxes.length; i++) {
		allBoxes[i].style.visibility = "hidden";
		hasOldClass = allBoxes[i].getAttribute("data-oldClass");
		if (hasOldClass) {
			allBoxes[i].className = hasOldClass;
		}
	}
}

function AnimateCacheforSwiper(_Swiper) {
	var allBoxes, hasOldClass;
	var allBoxes = _Swiper.querySelectorAll(".ani");
	for (var i = 0; i < allBoxes.length; i++) {
		allBoxes[i].style.visibility = "hidden";
		hasOldClass = allBoxes[i].getAttribute("data-oldClass");
		if (hasOldClass) {
			// console.log('allBoxes[i].className-before:', allBoxes[i].className);
			allBoxes[i].className = hasOldClass;
			// console.log('allBoxes[i].className-after:', allBoxes[i].className);
		}
	}
}

function Animate($page) {
	AnimateCache3($page)
	var b = $page[0].querySelectorAll(".ani");
	for (i = 0; i < b.length; i++) {
		b[i].style.visibility = "visible",
			effect = b[i].getAttribute("animate-effect") ? b[i].getAttribute("animate-effect") : "",
			b[i].className = b[i].className + "  " + effect + " " + "animated",
			style = b[i].getAttribute("style") ? b[i].getAttribute("style") : '',
			duration = b[i].getAttribute("animation-duration") ? b[i].getAttribute("animation-duration") : "",
		duration && (style = style + "animation-duration:" + duration + ";-webkit-animation-duration:" + duration + ";"),
			delay = b[i].getAttribute("animate-delay") ? b[i].getAttribute("animate-delay") : "",
		delay && (style = style + "animation-delay:" + delay + ";-webkit-animation-delay:" + delay + ";"),
			b[i].setAttribute("style", style);
	}
}

function AnimateForClassName($page) {
	if(typeof $page === null || typeof $page === 'undefined'){
		return;
	}
	var b = $page[0].querySelectorAll(".ani");
	var oldClass, duration, effect, delay, style;
	for (i = 0; i < b.length; i++) {
		style = b[i].getAttribute("style") ? b[i].getAttribute("style") : '';
		b[i].style.visibility = "visible";
		effect = b[i].getAttribute("animate-effect") ? b[i].getAttribute("animate-effect") : "";
		oldClass = b[i].className;
		b[i].setAttribute("data-oldClass", oldClass);
		b[i].setAttribute("data-oldStyle", style);
		duration = b[i].getAttribute("animation-duration") ? parseFloat(b[i].getAttribute("animation-duration")) : 0;
		delay = b[i].getAttribute("animate-delay") ? parseFloat(b[i].getAttribute("animate-delay")) : 0;
		duration = 'a-duration-' + (duration * 1000) + 'ms';
		delay = 'a-delay-' + (delay * 1000) + 'ms';
		b[i].className = oldClass + " " + effect + " " + "animated" + " " + duration + " " + delay;
	}
}

function AnimateForClassNameforSwiper(_swiper) {
	var activeIndex = _swiper.activeIndex;

	if (activeIndex - 1 !== -1) {
		AnimateCacheforSwiper(_swiper.slides[activeIndex - 1])
	}
	if (activeIndex + 1 < _swiper.slides.length) {
		AnimateCacheforSwiper(_swiper.slides[activeIndex + 1])
	}

	var b = _swiper.slides[_swiper.activeIndex].querySelectorAll(".ani");
	var oldClass, duration, effect, delay, style;
	for (i = 0; i < b.length; i++) {
		style = b[i].getAttribute("style") ? b[i].getAttribute("style") : '';
		b[i].style.visibility = "visible";
		effect = b[i].getAttribute("animate-effect") ? b[i].getAttribute("animate-effect") : "";
		oldClass = b[i].className;
		b[i].setAttribute("data-oldClass", oldClass);
		b[i].setAttribute("data-oldStyle", style);
		duration = b[i].getAttribute("animation-duration") ? parseFloat(b[i].getAttribute("animation-duration")) : 0;
		delay = b[i].getAttribute("animate-delay") ? parseFloat(b[i].getAttribute("animate-delay")) : 0;
		duration = 'a-duration-' + (duration * 1000) + 'ms';
		delay = 'a-delay-' + (delay * 1000) + 'ms';
		b[i].className = oldClass + " " + effect + " " + "animated" + " " + duration + " " + delay;
	}
}

function clearAnimate() {
	for (allBoxes = window.document.documentElement.querySelectorAll(".ani"),
		     i = 0; i < allBoxes.length; i++)
		allBoxes[i].getAttribute("animate-style-cache") && allBoxes[i].setAttribute("style", allBoxes[i].getAttribute("animate-style-cache").value),
			allBoxes[i].style.visibility = "hidden",
			allBoxes[i].className = allBoxes[i].className.replace("animated", " "),
		allBoxes[i].getAttribute("animate-effect") && (effect = allBoxes[i].getAttribute("animate-effect"),
			allBoxes[i].className = allBoxes[i].className.replace(effect, " "))
}
